(this["webpackJsonpbroadway-player"]=this["webpackJsonpbroadway-player"]||[]).push([[0],{112:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),s=a.n(c),i=(a(79),a(26)),o=a.n(i),d=a(38),l=a(10),j=a(61),u=a(145),b=a(146),h=a(147),x=a(143),O=a(148),f=a(149),m=a(150),p=a(151),v=a(2),g=function(e){var t=e.frames;return Object(v.jsx)(u.a,{sx:{width:"100%",mt:3},children:Object(v.jsx)(b.a,{children:Object(v.jsxs)(h.a,{children:[Object(v.jsx)(x.a,{children:Object(v.jsx)(O.a,{variant:"h5",children:"Frames:"})}),Object(v.jsx)(f.a,{}),Object(v.jsx)(x.a,{children:Object(v.jsx)(m.a,{sx:{width:"100%"},variant:"quilted",cols:4,rowHeight:160,children:t.map((function(e,t){return Object(v.jsx)(p.a,{children:Object(v.jsx)("img",{src:e,alt:"..."},t)},t)}))})})]})})})},w=a(141),y=a(152),k=a(153),L=a(154),S=a(155),C=a(144);var E=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(l.a)(c,2),i=s[0],h=s[1],x=Object(n.useState)(0),f=Object(l.a)(x,2),m=f[0],p=f[1],E=Object(n.useState)(""),I=Object(l.a)(E,2),D=I[0],R=I[1],U=Object(n.useState)(""),F=Object(l.a)(U,2),B=F[0],M=F[1],P=Object(n.useState)(0),H=Object(l.a)(P,2),J=H[0],N=H[1],T=function(){var e=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),B&&J){e.next=3;break}return e.abrupt("return");case 3:return h(!0),e.next=6,new Promise(function(){var e=Object(d.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=document.createElement("video")).addEventListener("seeked",Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&n();case 1:case"end":return e.stop()}}),e)})))),a.addEventListener("loadeddata",Object(d.a)(o.a.mark((function e(){var r,c,s,i,d,l,j,u,b,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=document.createElement("canvas"),c=r.getContext("2d"),s=[a.videoWidth,a.videoWidth],i=s[0],d=s[1],r.width=i,r.height=d,l=a.duration,j=l/J,u=[],b=0;case 9:if(!(u.length<J)){e.next=19;break}return a.currentTime=b,e.next=13,new Promise((function(e){return n=e}));case 13:c.drawImage(a,0,0,i,d),h=r.toDataURL("image/jpeg"),u.push(h),b+=j,e.next=9;break;case 19:t(u);case 20:case"end":return e.stop()}}),e)})))),a.src=B;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:a=e.sent,h(!1),r(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(y.a,{sx:{backgroundColor:"#282c34"},children:Object(v.jsxs)(k.a,{fixed:!0,sx:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:3},children:[Object(v.jsx)(u.a,{style:{width:"30rem"},children:Object(v.jsxs)(b.a,{children:[Object(v.jsx)(O.a,{variant:"h5",children:"Select video to process:"}),Object(v.jsxs)("form",{onSubmit:T,children:[Object(v.jsxs)(y.a,{sx:{mt:2},children:[Object(v.jsx)("input",{type:"file",id:"videoFileInput",style:{display:"none"},onChange:function(e){var t=document.createElement("video");t.preload="metadata",t.onloadedmetadata=function(){p(t.duration),R(e.target.files[0].name),M(URL.createObjectURL(e.target.files[0]))},t.src=URL.createObjectURL(e.target.files[0])}}),Object(v.jsxs)(L.a,{sx:{width:"100%"},children:[Object(v.jsx)("label",{htmlFor:"videoFileInput",children:Object(v.jsx)(S.a,{variant:"contained",component:"span",children:"Choose..."})}),Object(v.jsx)(S.a,{disabled:!0,sx:{flexGrow:1},children:D?D.slice(0,20)+"...":"No file selected"})]})]}),!!m&&Object(v.jsxs)(y.a,{sx:{mt:2},children:[Object(v.jsx)(O.a,{gutterBottom:!0,children:"Number of images to upload"}),Object(v.jsx)(C.a,{valueLabelDisplay:"auto",components:{ValueLabel:function(e){var t=e.children,a=e.value;return Object(v.jsx)(w.a,{enterTouchDelay:0,placement:"top",title:a,children:t})}},defaultValue:Math.floor(m/2),max:Math.floor(m),onChange:function(e){return N(e.target.value)}})]}),Object(v.jsxs)(y.a,{sx:{display:"flex",alignItems:"center",mt:2},children:[Object(v.jsx)(S.a,{type:"submit",variant:"outlined",disabled:i,sx:{mr:2},children:"Process video"}),i&&Object(v.jsx)(j.BarLoader,{})]})]})]})}),!!a.length&&Object(v.jsx)(g,{frames:a})]})})};s.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(E,{})}),document.getElementById("root"))},79:function(e,t,a){}},[[112,1,2]]]);
//# sourceMappingURL=main.28641235.chunk.js.map