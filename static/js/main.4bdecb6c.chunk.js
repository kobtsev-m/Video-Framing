(this["webpackJsonpvideo-framing"]=this["webpackJsonpvideo-framing"]||[]).push([[0],{27:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c(7),a=c.n(n),s=c(8),i=c.n(s),o=c(10),j=c(9),d=c(16),u=c(6),b=c(3),l=function(e){var t=e.frames;return Object(b.jsx)(u.b,{className:"w-100 mt-3",children:Object(b.jsxs)(u.c,{children:[Object(b.jsx)("h3",{children:"Frames:"}),Object(b.jsx)("hr",{}),t.map((function(e,t){return Object(b.jsx)("img",{src:e,alt:"...",width:160,height:90,className:"m-2"},t)}))]})})};c(27);var h=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(""),s=Object(j.a)(a,2),h=s[0],f=s[1],O=Object(r.useState)(0),m=Object(j.a)(O,2),x=m[0],p=m[1],v=Object(r.useState)(0),g=Object(j.a)(v,2),w=g[0],k=g[1],N=Object(r.useState)(!1),L=Object(j.a)(N,2),S=L[0],y=L[1],E=Object(r.useState)(!1),R=Object(j.a)(E,2),U=R[0],C=R[1],_=function(){var e=Object(o.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),h&&w){e.next=3;break}return e.abrupt("return");case 3:return C(!0),e.next=6,new Promise(function(){var e=Object(o.a)(i.a.mark((function e(t){var c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(c=document.createElement("video")).addEventListener("seeked",Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r&&r();case 1:case"end":return e.stop()}}),e)})))),c.addEventListener("loadeddata",Object(o.a)(i.a.mark((function e(){var n,a,s,o,j,d,u,b,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=document.createElement("canvas"),a=n.getContext("2d"),s=[c.videoWidth,c.videoWidth],o=s[0],j=s[1],n.width=o,n.height=j,d=x/w,u=[],b=0;case 8:if(!(u.length<w)){e.next=18;break}return c.currentTime=b,e.next=12,new Promise((function(e){return r=e}));case 12:a.drawImage(c,0,0,o,j),l=n.toDataURL("image/jpeg"),u.push(l),b+=d,e.next=8;break;case 18:t(u);case 19:case"end":return e.stop()}}),e)})))),c.src=h;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:c=e.sent,C(!1),n(c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(u.d,{className:"App__container",children:[Object(b.jsx)(u.b,{className:"App__formCard",children:Object(b.jsx)(u.c,{children:Object(b.jsx)(u.e,{onSubmit:_,children:S?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(u.f,{children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Video duration:"})," ",x]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Video frames per second:"})," ",30]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Total frames:"})," ",Math.floor(30*x)]})]}),Object(b.jsx)(u.f,{children:Object(b.jsx)("video",{className:"w-100 rounded",src:h,controls:!0})}),Object(b.jsxs)(u.f,{children:[Object(b.jsxs)(u.h,{children:["Number of images: ",w]}),Object(b.jsx)(u.g,{type:"range",defaultValue:100,onChange:function(e){var t=parseInt(e.target.value);k(Math.floor(t/100*x*30))}})]}),Object(b.jsxs)(u.f,{className:"d-flex align-items-center",children:[Object(b.jsx)(u.a,{type:"submit",color:"dark",outline:!0,disabled:U,className:"me-3",children:"Process video"}),U&&Object(b.jsx)(d.BarLoader,{})]})]}):Object(b.jsxs)(u.f,{children:[Object(b.jsx)(u.h,{children:"Select video to process:"}),Object(b.jsx)(u.g,{type:"file",lang:"en",onChange:function(e){if(e.target.files){var t=e.target.files[0],c=document.createElement("video");c.preload="metadata",c.onloadedmetadata=function(){f(URL.createObjectURL(t)),p(+c.duration.toFixed(1)),k(Math.floor(30*c.duration)),y(!0)},c.src=URL.createObjectURL(t)}}})]})})})}),!!c.length&&Object(b.jsx)(l,{frames:c})]})})};c(56);a.a.render(Object(b.jsx)(h,{}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.4bdecb6c.chunk.js.map